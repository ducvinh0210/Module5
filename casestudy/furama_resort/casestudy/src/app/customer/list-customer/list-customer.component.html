<div class="p-3 " style="min-height: 58vh">
  <h2 class="text-center fw-bold text-dark my-3">DANH SÁCH KHÁCH HÀNG</h2>


  <a routerLink="/customers/create">
    <button class="btn btn-primary btn-outline-secondary btn-sm">
      <span class="fa-solid fa-person-circle-plus text-light h5 my-auto me-1"></span>
      <span class="text-light"> Thêm mới khách hàng</span>
    </button>
  </a>

  <div class="justify-content-center col-md-6 d-flex float-end">

    <input style="border-radius: 30px" class="form-control me-2" #name type="search"
           placeholder="Name"
           aria-label="Search">

    <input style="border-radius: 30px" class="form-control me-2" #address type="search"
           placeholder="Email"
           aria-label="Search">

    <select #customerType class="form-select" aria-label="Default select example" style="border-radius: 30px">
      <option value = '' >--Customer Type--</option>
      <option *ngFor="let c of customerTypeList" [value]="c.name">{{c.name}}</option>
    </select>

    <button style="border-radius: 30px" class="btn btn-outline-success me-2" (click)="getAll(name.value,address.value,customerType.value)">Search</button>
  </div>

  <div>
    <div class="d-flex my-2" role="search" >
      <input class="form-control me-2" type="text" placeholder="Nhập tên.." aria-label="Search"
             name="nameSearch">

      <input class="form-control me-2" type="text" placeholder="Nhập địa chỉ.." aria-label="Search"
             name="addressSearch">

      <input class="form-control me-2" type="text" placeholder="Nhập SĐT.." aria-label="Search"
             name="phoneSearch">
      <button class="btn btn-light btn-outline-primary" type="submit" name="action" value="search">
        <i class="fa-solid fa-magnifying-glass"></i></button>
    </div>
  </div>

  <table class="table table-striped table-customer">
    <tr class="bg-dark text-light border-black">
      <th>STT</th>
      <th>Tên khách hàng</th>
      <th>Ngày sinh</th>
      <th>Giới tính</th>
      <th>SĐT</th>
      <th>Địa chỉ</th>
      <th>Loại khách</th>
      <th class="text-center">View</th>
      <th class="text-center">Edit</th>
      <th class="text-center">Delete</th>
    </tr>

    <tr *ngFor="let item of customers ; let i = index">
      <td>{{i+1}}</td>
      <td>{{item.name}}</td>

      <td>{{item.dateOfBirth}}</td>

      <td *ngIf="item.gender==1"> Nam</td>
      <td *ngIf="item.gender==0"> Nữ</td>
      <td>{{item.phoneNumber}}</td>

      <td>{{item.address}}</td>

      <td>{{item.customerType.name}}</td>

      <td class="text-center">
        <a href="#">
          <button class="btn btn-warning " style="margin-top: 5px;margin-bottom: 5px">
            <i class=" fa-solid fa-user text-light h6 m-auto px-2" style="margin-top: 10px"></i>
          </button>
        </a>
      </td>

      <td class="text-center">
        <a routerLink="/customers/edit/{{item.id}}">
          <button class="btn btn-success " style="margin-top: 5px;margin-bottom: 5px">
            <i class="fa-solid fa-user-pen text-light h6 m-auto px-2"></i>
          </button>
        </a>
      </td>

<!--      <td class="text-center">-->
<!--        <a  href="#">-->
<!--          <button  class="btn btn-danger  " style="margin-top: 5px;margin-bottom: 5px">-->
<!--            <i class="fa-solid fa-person-circle-minus text-light h6 m-auto px-2"></i>-->
<!--          </button>-->
<!--        </a>-->
<!--      </td>-->

      <td class="text-center">
        <button data-bs-toggle="modal" data-bs-target="#deleteCustomer"
                class="btn btn-danger btn-outline-secondary btn-sm"
                (click)="getInfoCustomerDelete(item.name, item.id)">
          <span class="fa-solid fa-person-circle-minus text-light h6 m-auto px-2"></span>
        </button>
      </td>



    </tr>

  </table>


  <div class="modal fade" id="deleteCustomer" tabindex="-1" aria-labelledby="exampleModalLabel1"
       aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content modalCSS">
        <div class="modal-header">
          <h4 class="modal-title" id="exampleModalLabel1">Bạn có chắc chắn muốn xóa?</h4>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>

        <div class="modal-body">
          <span class="h6">Khách hàng:</span><strong class="text-danger ps-2">{{customerNameDelete}}</strong>
        </div>

        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Đóng</button>
          <button type="submit" class="btn btn-danger" data-bs-dismiss="modal" (click)="deleteCustomer()">Xóa</button>
        </div>
      </div>
    </div>
</div>
</div>


